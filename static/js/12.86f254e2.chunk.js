(this["webpackJsonphack-the-crisis"]=this["webpackJsonphack-the-crisis"]||[]).push([[12],{217:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var a,r=n(43),c=n(0),o=n.n(c),i=n(160),m=n(157),u=n(199),l=n(193),s=n(22),d=n(9),p=n(38),b=n(89);function h(){var e=Object(p.a)(["\n  mutation CreateOneOrder(\n    $email: String!\n    $name: String!\n    $count: Int\n    $voucherId: Int\n  ) {\n    createOneOrder(\n      data: {\n        email: $email\n        name: $name\n        count: $count\n        voucher: { connect: { id: $voucherId } }\n      }\n    ) {\n      id\n    }\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(p.a)(["\n  query Voucher($id: Int!) {\n    voucher(where: { id: $id }) {\n      id\n      name\n      imageUrl\n      description\n      price\n      promotion\n      tags {\n        name\n      }\n      business {\n        name\n      }\n    }\n  }\n"]);return v=function(){return e},e}var E=Object(b.b)(v()),f=Object(b.b)(h()),x="MYSELF",g="FRIEND",j=[{value:x,title:"The Voucher is for myself"},{value:g,title:"The Voucher is for someone else"}],O=(a={},Object(d.a)(a,x,{name:"Enter your full name",email:"Enter your email"}),Object(d.a)(a,g,{name:"Enter friend's full name",email:"Enter friend's email"}),a),y=n(13),P=n(91),k=n(90),w=n(196),I=n(203),C=n(219),S=n(30);function V(){var e=Object(p.a)(["\n  margin-bottom: 22px !important;\n"]);return V=function(){return e},e}function $(){var e=Object(p.a)(["\n  > div {\n    margin-right: 15px;\n  }\n"]);return $=function(){return e},e}var N=Object(S.c)(l.a)($()),B=Object(S.c)(l.a)(V()),A=Object(w.a)((function(e){return Object(I.a)({orderInfo:{height:"400px"},orderImg:{height:"340px",width:"340px"}})})),D=function(e){var t=e.voucher,n=(t=void 0===t?{}:t).tags,a=void 0===n?[]:n,r=t.name,c=t.expirationDate,i=t.imageUrl,u=t.price,d=t.promotion,p=A();return o.a.createElement(l.a,{container:!0,spacing:0,className:p.orderInfo,justify:"center",alignItems:"center"},o.a.createElement(l.a,{container:!0,item:!0,xs:5,spacing:1,justify:"center",alignItems:"center"},o.a.createElement(C.a,{className:p.orderImg,alt:"order-image",src:i})),o.a.createElement(l.a,{container:!0,xs:7,direction:"column",justify:"space-between",spacing:1},o.a.createElement(N,{item:!0,xs:12},a&&a.map((function(e,t){return o.a.createElement(s.c,{key:t},e.name)}))),o.a.createElement(B,{item:!0,xs:12},o.a.createElement(m.a,{variant:"h4",color:"textPrimary"},r)),o.a.createElement(l.a,{container:!0,xs:12},o.a.createElement(l.a,{item:!0,xs:6},o.a.createElement(s.h,{oldPrice:u||0,newPrice:d||0,alignItems:"flex-start"})),o.a.createElement(l.a,{item:!0,xs:6},o.a.createElement(s.g,{title:"Ends in",date:new Date(c||new Date)})))))},F=n(194),T=n(50);function G(){var e=Object(p.a)(["\n  max-height: 50px;\n"]);return G=function(){return e},e}function J(){var e=Object(p.a)(["\n  width: 100px !important;\n  margin-right: 20px !important;\n  * {\n    color: "," !important;\n  }\n  > div {\n    font-weight: 800;\n    background: ",";\n  }\n  input {\n    padding: 14px !important;\n  }\n"]);return J=function(){return e},e}function U(){var e=Object(p.a)(["\n  margin-top: 15px !important;\n  margin-bottom: 15px !important;\n  > div:nth-child(2) {\n    border-radius: 5px;\n    padding: 2px;\n    background-color: "," !important;\n  }\n"]);return U=function(){return e},e}function Y(){var e=Object(p.a)(["\n  margin-top: -25px !important;\n  margin-bottom: 25px !important;\n"]);return Y=function(){return e},e}function q(){var e=Object(p.a)(["\n  > button > span {\n    color: #fe3f59 !important;\n  }\n"]);return q=function(){return e},e}function z(){var e=Object(p.a)(["\n  background-color: "," !important;\n  width: 42px;\n  height: 42px;\n  min-width: 0 !important;\n  padding: 0 !important;\n  > span {\n    padding: 0 !important;\n    font-size: 24px !important;\n  }\n"]);return z=function(){return e},e}function L(){var e=Object(p.a)(["\n  color: ",";\n"]);return L=function(){return e},e}var M=Object(S.c)(m.a)(L(),T.b.primary[50]),R=Object(S.c)(F.a)(z(),T.b.primary[55]),H=Object(S.c)(l.a)(q()),K=Object(S.c)(l.a)(Y()),Q=Object(S.c)(l.a)(U(),T.b.primary[55]),W=Object(S.c)(k.a)(J(),T.b.black,T.b.text[50]),X=Object(S.c)(s.d)(G()),Z=Object(w.a)((function(e){return Object(I.a)({root:{background:"#000",flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},orderConfig:{textAlign:"center",height:"90vh",background:e.palette.primary.main},orderInfo:{height:"400px"},orderBusiness:{flex:"1 1 auto",background:"#161616"},orderImg:{height:"340px",width:"340px"}})})),_=function(){var e,t=Object(y.c)(),n=Object(i.b)(E,{variables:{id:t}}).data,a=(n=void 0===n?{}:n).voucher,d=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(0),i=Object(r.a)(o,2),m=i[0],u=i[1];return{submitBonusPrice:function(){u(m+(Number(n)||0)),a("0.00")},bonusPriceProps:{value:n,onChange:function(e){return a(e)},placeholder:"0.00"},totalBonusPrice:m}}(),p=d.totalBonusPrice,b=d.submitBonusPrice,h=d.bonusPriceProps,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(c.useState)(0),a=Object(r.a)(n,2),o=a[0],i=a[1],m=function(){return i(o+1)},u=function(){return o>0&&i(o-1)};return{addVoucher:m,removeVoucher:u,vouchersNumber:o,vouchersPrice:(o*e+t).toFixed(2)}}((null===a||void 0===a?void 0:a.promotion)||(null===a||void 0===a?void 0:a.price),p),w=v.addVoucher,I=v.removeVoucher,C=v.vouchersNumber,S=v.vouchersPrice,V=function(){var e=Object(c.useState)(x),t=Object(r.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),i=Object(r.a)(o,2),m=i[0],u=i[1],l=Object(c.useState)(""),s=Object(r.a)(l,2),d=s[0],p=s[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),v=h[0],E=h[1];return{destinationProps:{controlledValue:n,onChange:function(e){return a(e)}},nameProps:{value:m,onChange:function(e){return u(e)},placeholder:O[n].name},emailProps:{value:d,onChange:function(e){return p(e)},placeholder:O[n].email},noteProps:n===g&&{value:v,onChange:function(e){return E(e)},placeholder:"Say something to your friend!"}}}(),$=V.destinationProps,N=V.nameProps,B=V.emailProps,A=V.noteProps,F=Object(i.a)(f),T=Object(r.a)(F,1)[0],G=Z();return o.a.createElement("div",{className:G.root},o.a.createElement(l.a,{container:!0,spacing:0},o.a.createElement(l.a,{container:!0,xs:8,spacing:0},o.a.createElement(l.a,{container:!0,direction:"column"},o.a.createElement(D,{voucher:a||{}}),o.a.createElement(l.a,{container:!0,spacing:0,className:G.orderBusiness},o.a.createElement(l.a,{item:!0,xs:1}),o.a.createElement(l.a,{container:!0,item:!0,xs:11},o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(M,{variant:"h6"},"Add other Vouchers from"," ",o.a.createElement(m.a,{color:"textPrimary",component:"span",variant:"h6"},null===a||void 0===a||null===(e=a.business)||void 0===e?void 0:e.name))),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(m.a,{variant:"h5",color:"textPrimary"},"Back this"," ",o.a.createElement(m.a,{color:"secondary",component:"span",variant:"h5"},"business")),o.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"Do you want to show some extra love ? Pick the price and add it to the total amount of your current Voucher order."),o.a.createElement("br",null)),o.a.createElement(W,Object.assign({},h,{InputProps:{startAdornment:o.a.createElement(u.a,{position:"start"},"\u20ac")}})),o.a.createElement(X,{onClick:function(){return b()},variant:"outlined"},"Add to amount")))))),o.a.createElement(l.a,{container:!0,xs:4,className:G.orderConfig,justify:"center",alignItems:"center"},o.a.createElement(l.a,{container:!0,xs:1}),o.a.createElement(l.a,{container:!0,xs:10,spacing:3},o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(m.a,{variant:"h4",color:"textPrimary"},"Complete Your"," ",o.a.createElement(m.a,{color:"secondary",component:"span",variant:"h4"},"order"))),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(m.a,{variant:"body1",color:"textSecondary"},null===a||void 0===a?void 0:a.description)),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(M,{variant:"h6"},"Fill the fields below")),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(P.a,Object.assign({options:j},$))),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(k.a,N)),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(k.a,B)),A&&o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(k.a,A)),o.a.createElement(Q,{container:!0,xs:12,justify:"space-between"},o.a.createElement(H,{item:!0,xs:2},o.a.createElement(R,{onClick:I,color:"secondary"},"-")),o.a.createElement(l.a,{item:!0,xs:8},o.a.createElement(m.a,{variant:"h6",color:"textPrimary"},"Buy ",C," Vouchers")),o.a.createElement(l.a,{item:!0,xs:2},o.a.createElement(R,{onClick:w,color:"secondary"},"+"))),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(M,{variant:"h5"},"Total Amount")),o.a.createElement(K,{item:!0,xs:12},o.a.createElement(m.a,{variant:"h4",color:"textPrimary"},"\u20ac ",S)),o.a.createElement(l.a,{item:!0,xs:12},o.a.createElement(s.d,{variant:"contained",onClick:function(){T({variables:{email:B.value,name:N.value,count:C,voucherId:t}})}},"Go to Payment"))),o.a.createElement(l.a,{container:!0,xs:1}))))}}}]);
//# sourceMappingURL=12.86f254e2.chunk.js.map