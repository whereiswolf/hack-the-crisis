{"version":3,"sources":["modules/vouchers/containers/Order/Order.utils.ts","modules/vouchers/containers/Order/Order.tsx"],"names":["GET_ORDER","gql","DESTINATION","destinationOptions","value","title","placeholders","name","email","GreyText","styled","Typography","colors","primary","SquareButton","BaseButton","RemoveButtonContainer","Grid","PriceContainer","VouchersNumberContainer","useStyles","makeStyles","theme","createStyles","root","background","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","orderConfig","height","main","orderInfo","orderBusiness","flex","orderImg","width","Order","id","useId","data","useQuery","variables","price","useState","vouchersNumber","setVouchersNumber","addVoucher","removeVoucher","vouchersPrice","toFixed","useVouchersNumber","voucher","destination","setDestination","setName","setEmail","note","setNote","destinationProps","controlledValue","onChange","val","nameProps","placeholder","emailProps","noteProps","useOrderForm","classes","className","container","xs","direction","justify","alignItems","item","Avatar","alt","src","imageUrl","variant","component","business","Select","options","TextInput","onClick"],"mappings":"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","file":"static/js/12.95473113.chunk.js","sourcesContent":["import { gql } from 'apollo-boost'\nimport { useState } from 'react'\n\nexport const GET_ORDER = gql`\n  query Voucher($id: Int!) {\n    voucher(where: { id: $id }) {\n      id\n      name\n      imageUrl\n      description\n      price\n      promotion\n      tags {\n        name\n      }\n      business {\n        name\n      }\n    }\n  }\n`\n\nexport const useVouchersNumber = (price = 0) => {\n  const [vouchersNumber, setVouchersNumber] = useState(0)\n  const addVoucher = () => setVouchersNumber(vouchersNumber + 1)\n  const removeVoucher = () =>\n    vouchersNumber > 0 && setVouchersNumber(vouchersNumber - 1)\n\n  return {\n    addVoucher,\n    removeVoucher,\n    vouchersNumber,\n    vouchersPrice: (vouchersNumber * price).toFixed(2),\n  }\n}\n\nconst DESTINATION = {\n  MYSELF: 'MYSELF',\n  FRIEND: 'FRIEND',\n}\n\nexport const destinationOptions = [\n  { value: DESTINATION.MYSELF, title: 'The Voucher is for myself' },\n  { value: DESTINATION.FRIEND, title: 'The Voucher is for someone else' },\n]\n\nconst placeholders = {\n  [DESTINATION.MYSELF]: {\n    name: 'Enter your full name',\n    email: 'Enter your email',\n  },\n  [DESTINATION.FRIEND]: {\n    name: \"Enter friend's full name\",\n    email: \"Enter friend's email\",\n  },\n}\n\nexport const useOrderForm = () => {\n  const [destination, setDestination] = useState(DESTINATION.MYSELF)\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [note, setNote] = useState('')\n  return {\n    destinationProps: {\n      controlledValue: destination,\n      onChange: (val: any) => setDestination(val),\n    },\n    nameProps: {\n      value: name,\n      onChange: (val: any) => setName(val),\n      placeholder: placeholders[destination].name,\n    },\n    emailProps: {\n      value: email,\n      onChange: (val: any) => setEmail(val),\n      placeholder: placeholders[destination].email,\n    },\n    noteProps: destination === DESTINATION.FRIEND && {\n      value: note,\n      onChange: (val: any) => setNote(val),\n      placeholder: 'Say something to your friend!',\n    },\n  }\n}\n","import React from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { Avatar, Typography, Button as BaseButton } from '@material-ui/core'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport { Button } from 'components'\nimport {\n  GET_ORDER,\n  useVouchersNumber,\n  destinationOptions,\n  useOrderForm,\n} from './Order.utils'\nimport { VoucherData } from 'types'\nimport { useId } from 'utils'\nimport { colors } from 'config'\nimport styled from 'styled-components'\nimport Select from 'components/Select'\nimport TextInput from 'components/TextInput'\n// import AddIcon from '@material-ui/icons/Add'\n\nconst GreyText = styled(Typography)`\n  color: ${colors.primary[50]};\n`\nconst SquareButton = styled(BaseButton)`\n  background-color: ${colors.primary[55]} !important;\n  width: 42px;\n  height: 42px;\n  min-width: 0 !important;\n  padding: 0 !important;\n  > span {\n    padding: 0 !important;\n    font-size: 24px !important;\n  }\n`\n\nconst RemoveButtonContainer = styled(Grid)`\n  > button > span {\n    color: #fe3f59 !important;\n  }\n`\n\nconst PriceContainer = styled(Grid)`\n  margin-top: -25px !important;\n  margin-bottom: 25px !important;\n`\n\nconst VouchersNumberContainer = styled(Grid)`\n  margin-top: 15px !important;\n  margin-bottom: 15px !important;\n  > div:nth-child(2) {\n    border-radius: 5px;\n    padding: 2px;\n    background-color: ${colors.primary[55]} !important;\n  }\n`\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      background: '#000',\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n    orderConfig: {\n      textAlign: 'center',\n      height: '90vh',\n      background: theme.palette.primary.main,\n    },\n    orderInfo: {\n      height: '500px',\n    },\n    orderBusiness: {\n      flex: '1 1 auto',\n      background: '#161616',\n    },\n    orderImg: {\n      height: '380px',\n      width: '380px',\n    },\n  })\n)\n\ninterface OrderProps {}\n\nconst Order: React.FC<OrderProps> = () => {\n  const id = useId()\n  const { data } = useQuery<VoucherData>(GET_ORDER, {\n    variables: { id },\n  })\n  const {\n    addVoucher,\n    removeVoucher,\n    vouchersNumber,\n    vouchersPrice,\n  } = useVouchersNumber(data?.voucher?.price)\n  const { destinationProps, nameProps, emailProps, noteProps } = useOrderForm()\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={0}>\n        <Grid container xs={8} spacing={0}>\n          <Grid container direction=\"column\">\n            <Grid\n              container\n              spacing={0}\n              className={classes.orderInfo}\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid\n                container\n                item\n                xs={6}\n                spacing={1}\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Avatar\n                  className={classes.orderImg}\n                  alt=\"order-image\"\n                  src={data?.voucher?.imageUrl}\n                />\n              </Grid>\n              <Grid item xs={6} spacing={1}>\n                <Typography variant=\"h4\" color=\"textPrimary\">\n                  {data?.voucher?.name}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container spacing={0} className={classes.orderBusiness}>\n              <Grid item xs={1}></Grid>\n              <Grid item xs={11}>\n                <Grid item xs={12}>\n                  <GreyText variant=\"h6\">\n                    Add other Vouchers from{' '}\n                    <Typography\n                      color=\"textPrimary\"\n                      component=\"span\"\n                      variant=\"h6\"\n                    >\n                      {data?.voucher?.business?.name}\n                    </Typography>\n                  </GreyText>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography variant=\"h5\" color=\"textPrimary\">\n                    Back this{' '}\n                    <Typography color=\"secondary\" component=\"span\" variant=\"h5\">\n                      business\n                    </Typography>\n                  </Typography>\n                </Grid>\n                <Grid>\n                  <Typography variant=\"body1\" color=\"textSecondary\">\n                    Do you want to show some extra love ? Pick the price and add\n                    it to the total amount of your current Voucher order.\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid\n          container\n          xs={4}\n          className={classes.orderConfig}\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Grid container xs={1}></Grid>\n          <Grid container xs={10} spacing={3}>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" color=\"textPrimary\">\n                Complete Your{' '}\n                <Typography color=\"secondary\" component=\"span\" variant=\"h4\">\n                  order\n                </Typography>\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"body1\" color=\"textSecondary\">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\n                enim ad minim veniam.\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <GreyText variant=\"h6\">Fill the fields below</GreyText>\n            </Grid>\n            <Grid item xs={12}>\n              <Select options={destinationOptions} {...destinationProps} />\n            </Grid>\n            <Grid item xs={12}>\n              <TextInput {...nameProps} />\n            </Grid>\n            <Grid item xs={12}>\n              <TextInput {...emailProps} />\n            </Grid>\n            {noteProps && (\n              <Grid item xs={12}>\n                <TextInput {...noteProps} />\n              </Grid>\n            )}\n            <VouchersNumberContainer container xs={12} justify=\"space-between\">\n              <RemoveButtonContainer item xs={2}>\n                <SquareButton onClick={removeVoucher} color=\"secondary\">\n                  -\n                </SquareButton>\n              </RemoveButtonContainer>\n              <Grid item xs={8}>\n                <Typography variant=\"h6\" color=\"textPrimary\">\n                  Buy {vouchersNumber} Vouchers\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <SquareButton onClick={addVoucher} color=\"secondary\">\n                  +\n                </SquareButton>\n              </Grid>\n            </VouchersNumberContainer>\n            <Grid item xs={12}>\n              <GreyText variant=\"h5\">Total Amount</GreyText>\n            </Grid>\n            <PriceContainer item xs={12}>\n              <Typography variant=\"h4\" color=\"textPrimary\">\n                € {vouchersPrice}\n              </Typography>\n            </PriceContainer>\n            <Grid item xs={12}>\n              <Button variant=\"contained\">Go to Payment</Button>\n            </Grid>\n          </Grid>\n          <Grid container xs={1}></Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default Order\n"],"sourceRoot":""}